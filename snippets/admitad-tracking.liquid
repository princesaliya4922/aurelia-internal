<script src="https://www.artfut.com/static/tagtag.min.js?campaign_code=6187bdd148" defer></script>
<script>
  (function () {
    var cookie_name = 'deduplication_cookie';
    var days_to_store = 30;
    var deduplication_cookie_value = 'admitad';
    var channel_name = 'utm_source';

    function getSourceParamFromUri() {
      var pattern = channel_name + '=([^&]+)';
      var re = new RegExp(pattern);
      return (re.exec(document.location.search) || [])[1] || '';
    }

    function getSourceCookie() {
      var matches = document.cookie.match(
        new RegExp('(?:^|; )' + cookie_name.replace(/([\.$?*|{}\(\)\[\]\\/\+^])/g, '\\$1') + '=([^;]*)')
      );
      return matches ? decodeURIComponent(matches[1]) : undefined;
    }

    function setSourceCookie() {
      var param = getSourceParamFromUri();
      var params = new URL(document.location).searchParams;

      if (!params.get(channel_name) && params.get('gclid')) {
        param = 'google';
      } else if (!params.get(channel_name) && params.get('fbclid')) {
        param = 'facebook';
      } else if (!params.get(channel_name) && params.get('cjevent')) {
        param = 'cj';
      } else if (!param) {
        return;
      }

      var period = days_to_store * 60 * 60 * 24 * 1000;
      var expiresDate = new Date(period + +new Date());
      var cookieString = cookie_name + '=' + param + '; path=/; expires=' + expiresDate.toGMTString();
      document.cookie = cookieString;
      document.cookie = cookieString + '; domain=.' + location.host;
    }

    setSourceCookie();
  })();
</script>
